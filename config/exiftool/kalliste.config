# Kalliste custom XMP namespace configuration

require Image::ExifTool::XMP;
Image::ExifTool::XMP::RegisterNamespace(
    'kalliste' => 'http://kalliste.ai/1.0/'
);

# Define our custom XMP namespace
%Image::ExifTool::UserDefined = (
    'Image::ExifTool::XMP::Main' => {
        kalliste => {
            SubDirectory => {
                TagTable => 'Image::ExifTool::UserDefined::kalliste',
            },
        },
    },
);


# define our custom tags
%Image::ExifTool::UserDefined::kalliste = (
    GROUPS => { 0 => 'XMP', 1 => 'XMP-kalliste', 2 => 'Image' },
    NAMESPACE => { 'kalliste' => 'http://kalliste.ai/1.0/' },
    WRITABLE => 'string',
    
    # Core metadata tags
    TestTag => { },
    TestTagConfidence => { Writable => 'real' },
    Tag => { },
    TagSource => { },
    TagConfidence => { Writable => 'real' },
    DetectionType => { },
    DetectionConfidence => { Writable => 'real' },
    ProcessingVersion => { },
    CropRegion => { },
    OriginalPath => { },
    Orientation => { },
    Caption => { },
    
    # Lists for batch processing
    Tags => { List => 'Bag' },
    TagSources => { List => 'Bag' },
    TagConfidences => { List => 'Seq', Writable => 'real' },
);